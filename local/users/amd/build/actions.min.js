define("local_users/actions",["exports","core/modal_factory","core/modal_events","core/ajax","core/str"],(function(_exports,_modal_factory,_modal_events,_ajax,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events),_ajax=_interopRequireDefault(_ajax);const Selectors_actions={deleteuser:'[data-action="deleteuser"]'};_exports.init=()=>{document.addEventListener("click",(function(e){let element=e.target.closest(Selectors_actions.deleteuser);if(element){const id=element.getAttribute("data-id");_modal_factory.default.create({title:(0,_str.get_string)("deleteuser","local_users"),type:_modal_factory.default.types.SAVE_CANCEL,body:(0,_str.get_string)("deleteconfirm","local_users")}).done(function(modal){this.modal=modal,modal.setSaveButtonText((0,_str.get_string)("delete","local_users")),modal.getRoot().on(_modal_events.default.save,function(e){e.preventDefault();var params={};params.id=id,_ajax.default.call([{methodname:"local_users_deleteuser",args:params}])[0].done((function(resp){window.location=M.cfg.wwwroot+"/local/users/index.php"})).fail((function(){console.log("exception")}))}.bind(this)),modal.show()}.bind(this))}}))}}));

//# sourceMappingURL=actions.min.js.map